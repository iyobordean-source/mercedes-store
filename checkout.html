<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout | Mercedes-Benz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Checkout CSS -->
  <link rel="stylesheet" href="/style/checkout.css">
</head>
<body>

  <!-- NAVBAR -->
  <nav>
    <a href="home.html">Home</a>
    <a href="category.html">Category</a>
    <a href="cart.html">Cart</a>
  </nav>

  <!-- CHECKOUT PAGE -->
  <main class="checkout-wrapper">
    <h1>Checkout</h1>

    <div class="checkout-grid">

      <!-- LEFT: CUSTOMER INFO -->
      <div>
        <h2>Customer Information</h2>
        <form id="checkout-form" class="checkout-form">
          <input type="text" required placeholder="Full Name">
          <input type="email" required placeholder="Email Address">
          <input type="tel" required placeholder="Phone Number">
          <input type="text" required placeholder="Delivery Address">
          <input type="text" placeholder="City">
          <input type="text" placeholder="Country">
        </form>
      </div>

      <!-- RIGHT: ORDER SUMMARY -->
      <aside class="order-summary">
        <h2>Order Summary</h2>
        <div id="order-items"></div>
        <hr class="order-divider">
        <div class="order-total">
          <span>Total:</span>
          <strong>₦<span id="total-price">0</span></strong>
        </div>
        <button class="checkout-btn" onclick="placeOrder()">Place Order</button>
      </aside>

    </div>
  </main>

  <!-- SCRIPT -->
  <script>
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const orderItems = document.getElementById("order-items");
    const totalPriceEl = document.getElementById("total-price");

    let total = 0;

    function renderOrder() {
      orderItems.innerHTML = "";
      total = 0;

      cart.forEach(item => {
        total += item.price * item.qty;

        const div = document.createElement("div");
        div.className = "order-item";
        div.innerHTML = `
          <strong>${item.name}</strong><br>
          Quantity: ${item.qty}<br>
          ₦${(item.price * item.qty).toLocaleString()}
        `;
        orderItems.appendChild(div);
      });

      totalPriceEl.textContent = total.toLocaleString();
    }

    renderOrder();

    function placeOrder() {
      if (cart.length === 0) {
        alert("Your cart is empty");
        return;
      }

      // Temporary confirmation
      alert("Order placed successfully!");

      // Clear cart for now
      localStorage.removeItem("cart");

      // Redirect to home page
      window.location.href = "home.html";
    }
  </script>

</body>
</html>
