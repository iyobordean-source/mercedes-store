<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>G-Wagon | Mercedes-Benz</title>
  <link rel="stylesheet" href="/style/product.css">
</head>
<body>

<!-- NAVBAR -->
<nav>
  <a href="home.html">Home</a>
  <a href="category.html">Category</a>
  <a href="/cart.html">Cart (<span id="cart-count">0</span>)</a>
</nav>

<main class="product-page">
  <!-- HERO -->
  <section class="hero">
    <video autoplay muted loop playsinline class="hero-video">
      <source src="/assets/G-wagon.mp4" type="video/mp4">
    </video>
    <div class="hero-overlay">
      <h1>G-Wagon</h1>
      <p>The ultimate luxury SUV built for performance and prestige.</p>
    </div>
  </section>

  <!-- PRODUCT DETAILS -->
  <section class="product-details">
    <img src="/assets/G wagon.jpeg" alt="G-Wagon" class="product-img">

    <div class="product-info">
      <h2>G-Wagon</h2>
      <p>Experience unmatched off-road capability combined with iconic design and modern luxury. Perfect for both city streets and rugged terrain.</p>
      <p>Price: ₦90,000,000</p>

      <div class="quantity-wrapper">
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" value="1" min="1">
      </div>

      <button id="add-to-cart" class="btn primary">Add to Cart</button>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section class="testimonials">
    <h2>What Owners Say</h2>
    <div class="testimonial-grid">
      <div class="testimonial-card">
        <p>“Owning a G-Wagon is pure joy. Luxury and performance combined.”</p>
        <span>— Michael B.</span>
      </div>
      <div class="testimonial-card">
        <p>“I’ve never experienced anything like this in a car before.”</p>
        <span>— Sarah L.</span>
      </div>
      <div class="testimonial-card">
        <p>“The G-Wagon turns heads everywhere I go. Iconic.”</p>
        <span>— Daniel R.</span>
      </div>
    </div>
  </section>
</main>

<script src="/script/cart.js"></script>
<script>
  // Product info
  const product = {
    id: "g-wagon",
    name: "G-Wagon",
    price: 90000000,
    img: "assets-img/g-wagon.jpeg"
  };

  const addBtn = document.getElementById("add-to-cart");
  const quantityInput = document.getElementById("quantity");

  addBtn.addEventListener("click", () => {
    const qty = parseInt(quantityInput.value) || 1;
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const existingIndex = cart.findIndex(item => item.id === product.id);
    if(existingIndex !== -1){
      cart[existingIndex].qty += qty;
    } else {
      cart.push({...product, qty});
    }

    localStorage.setItem("cart", JSON.stringify(cart));

    // Update badge
    const cartCountEl = document.getElementById("cart-count");
    const totalCount = cart.reduce((sum, item) => sum + item.qty, 0);
    cartCountEl.textContent = totalCount;

    alert(`${qty} ${product.name}(s) added to cart!`);
  });

  // Update badge on page load
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  document.getElementById("cart-count").textContent = cart.reduce((sum, item) => sum + item.qty, 0);
</script>

</body>
</html>
